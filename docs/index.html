<!DOCTYPE html>
<html lang="en">
<head>
    <title>daily learning achievements</title>
    <link rel="stylesheet" type="text/css" href="style.css">
</head>
<body>
<header>
  <h1>daily learning achievements</h1>
</header>
<section>
    <p class=goaltext>webeC first prototype</p><progress style="float: left;" value="12" max="14"></progress>
    <input type="text" id=1>
    <button onclick="updateGoal(1)">+</button>
</section>
<section>
    <p class=goaltext>vana Exercise 7 again</p><progress style="float: left;" value="0" max="4"></progress>
    <input type="text" id=2>
    <button onclick="updateGoal(2)">+</button>
</section>
<section>
    <p class=goaltext>listen to music</p><progress style="float: left;" value="5" max="14"></progress>
    <input type="text" id=3>
    <button onclick="updateGoal(3)">+</button>
</section>
<section>
    <input type="text" class=activate onclick="activateInput()" value="add a new goal!">
    
</section>
<footer>
<p>footer</p>
</footer>
    
<script>
function updateGoal(number){
document.getElementById(number).previousElementSibling.value+=Number(document.getElementById(number).value)
}

var canSet = true;
function activateInput(){
    
if(canSet){
    
var addTime = document.createElement("input")
addTime.setAttribute("value","add an amount of time")
document.getElementsByClassName("activate")[0].after(addTime)

var addGoal = document.createElement("button")
addGoal.innerHTML = "add goal"
addGoal.setAttribute("onClick","addField()")
document.getElementsByClassName("activate")[0].nextSibling.after(addGoal)
    
canSet = false;
}
}
var count = 4
    
function addField(){
    
//do stuff with the information entered by the user (add goal as p, bar with amount done, field and plus button)

var goal = document.getElementsByClassName("activate")[0].value;
var time = document.getElementsByClassName("activate")[0].nextSibling.value;
var text = document.createElement("p");
text.innerHTML = goal
document.getElementsByClassName("activate")[0].parentNode.insertBefore(text,document.getElementsByClassName("activate")[0]).setAttribute("class","goaltext")
var progress = document.createElement("progress");
progress.setAttribute("max",time);
progress.setAttribute("value",0);
document.getElementsByClassName("activate")[0].parentNode.insertBefore(progress,document.getElementsByClassName("activate")[0])
var input = document.createElement("input");
input.setAttribute("id",count)
document.getElementsByClassName("activate")[0].parentNode.insertBefore(input,document.getElementsByClassName("activate")[0])
var button = document.createElement("button");
button.innerHTML = "+";
button.setAttribute("onClick","updateGoal("+count+")");
count+=1;
document.getElementsByClassName("activate")[0].parentNode.insertBefore(button,document.getElementsByClassName("activate")[0])

document.getElementsByClassName("activate")[0].nextSibling.nextSibling.remove();
document.getElementsByClassName("activate")[0].nextSibling.remove();

var section = document.createElement("section");
var activate = document.createElement("input");
activate.setAttribute("class","activate");
activate.setAttribute("value","add a new goal!");
activate.setAttribute("onclick","activateInput()");
document.getElementsByClassName("activate")[0].parentElement.after(section);
section.append(activate);
document.getElementsByClassName("activate")[0].remove()
canSet = true

}

</script>
</body>
</html>
